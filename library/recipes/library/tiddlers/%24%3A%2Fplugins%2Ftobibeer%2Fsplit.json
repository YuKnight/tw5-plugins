{
    "title": "$:/plugins/tobibeer/split",
    "description": "A filter to split input titles and slice-up the results",
    "author": "Tobias Beer",
    "version": "0.7.2",
    "core-version": ">=5.1.9",
    "source": "https://github.com/tobibeer/tw5-split",
    "documentation": "https://tobibeer.github.io/tw5-split",
    "plugin-type": "plugin",
    "dependents": "",
    "list": "readme",
    "type": "application/json",
    "text": "{\n    \"tiddlers\": {\n        \"$:/plugins/tobibeer/split/filter.js\": {\n            \"text\": \"/*\\\\\\r\\ntitle: $:/plugins/tobibeer/split/filter.js\\r\\ntype: application/javascript\\r\\nmodule-type: filteroperator\\r\\n\\r\\nFilter operator that splits each item at a specified separator.\\r\\n\\r\\n@preserve\\r\\n\\\\*/\\n(function(){\\\"use strict\\\";exports.split=function(s,t,i){var e,a,n=i.wiki,r=t.suffix||\\\"\\\",f=[],l=[],u=[],p=[],o={negate:t.prefix===\\\"!\\\",split:t.operand,prefix:\\\"\\\",suffix:\\\"\\\",num:1,$num:1},c=[[/^\\\\s+/,function(){}],[/^(num|pos|\\\\$num|\\\\$pos)=(n|-n|\\\\d+|-\\\\d+)(?:\\\\s|$)/i,function(s){o[s[1]]=s[2];if(s[1].charAt(0)===\\\"$\\\"){o.mode=\\\"$pos\\\"}if(s[1]===\\\"$num\\\"&&!o.$pos){o.$pos=1}if(s[1]===\\\"num\\\"&&!o.pos){o.pos=1}}],[/^(\\\\+|at|!at|first|!first|last|!last|list|keep|strict|\\\\$strict|trim|unique)(?:\\\\s|$)/i,function(s){var t=s[1];o[t]=1;switch(t){case\\\"+\\\":o.suffix=o.split;break;case\\\"!at\\\":o.nat=1;case\\\"at\\\":e=o.split.match(/(\\\\d+),(\\\\d+)/);if(e){o.at=parseInt(e[1]);o.to=parseInt(e[2])}else{o.at=parseInt(o.split)}if(isNaN(o.at)){throw\\\"suffix 'at' must be numeric: \\\"+o.at}else{o.at=o.at-1}break;case\\\"list\\\":o.list=\\\"list\\\";break;case\\\"first\\\":o.pos=1;break;case\\\"!first\\\":o.pos=2;o.num=\\\"n\\\";break;case\\\"last\\\":o.pos=\\\"n\\\";break;case\\\"!last\\\":o.pos=\\\"-2\\\";o.num=\\\"-n\\\";break}}],[/^list\\\\=\\\\s*([^\\\\s]+)(?:\\\\s|$)/i,function(s){o.list=s[1]}],[/^(\\\\!)?(\\\\$|\\\\$all|\\\\$first|\\\\$last)(?:\\\\s|$)/i,function(s){var t=s[2];o.mode=t;o.neg=s[1]?1:0;if(t===\\\"$first\\\"){if(o.neg){o.$pos=2;o.$num=\\\"n\\\"}else{o.$pos=1}}else if(t===\\\"$last\\\"){if(o.neg){o.$pos=\\\"-2\\\";o.$num=\\\"-n\\\"}else{o.$pos=\\\"n\\\"}}}],[/^(?:\\\\+\\\\\\\\([^\\\\\\\\]+)\\\\\\\\|\\\\\\\\([^\\\\\\\\]+)\\\\\\\\\\\\+)/,function(s){if(s[1]){o.prefix=s[1]}else{o.suffix=s[2]}}]];try{while(r){a=r;$tw.utils.each(c,function(s){var t=s[0].exec(r);if(t){s[1].call(this,t);r=r.substr(t[0].length);return false}});if(r===a){throw\\\"invalid suffix(es) '\\\"+r+\\\"'\\\"}}if(o.list&&o.split){p=$tw.utils.parseStringArray(o.split)}else{s(function(s,t){var i,e,a;l.push(t);if(o.at){if(o.to){a=o.nat?[t.substr(0,o.at)+t.substr(o.at+o.to)]:[t.substr(o.at,o.to)];if(o.keep&&a[0]===\\\"\\\"){a[0]=t}}else{a=[t.substr(0,o.at)];e=t.substr(o.at);if(e){a.push(e)}}}else if(o.list){a=n.getTiddlerList(t,o.list)}else{a=t.split(o.split)}i=a.length>1||o.list||o.to&&a.length>0;if(o.pos){a=$tw.utils.getArrayItems(a,o.pos,o.num,o.strict)}if(a.length&&(i||o.keep)){f.push(t);$tw.utils.each(a,function(s){if(o.trim){s=s.trim()}if(s){if(!o.unique||o.unique&&p.indexOf(s)<0){p.push(o.prefix+s+o.suffix)}}})}else{u.push(t)}})}if(t.suffix){switch(o.mode){case\\\"$\\\":p=f;break;case\\\"$all\\\":if(p.length){if(o.negate){u=[]}else{p=l}}else if(o.negate){u=l}break;case\\\"$first\\\":case\\\"$last\\\":case\\\"$pos\\\":p=$tw.utils.getArrayItems(p,o.$pos,o.$num,o.$strict);break}}}catch($){return[\\\"split syntax error:\\\"+$]}return o.negate?u:p}})();\",\n            \"title\": \"$:/plugins/tobibeer/split/filter.js\",\n            \"type\": \"application/javascript\",\n            \"module-type\": \"filteroperator\"\n        },\n        \"$:/plugins/tobibeer/split/readme\": {\n            \"title\": \"$:/plugins/tobibeer/split/readme\",\n            \"text\": \"Provides the filter `split[by]`, splitting input titles `by` a string defined in the operand, allowing you to slice and dice output elements as needed.\\n\\n; suffixes\\r\\n: `$` — return input titles that yield split items\\r\\n: `$all` — return all input titles if any yield split items\\r\\n: `+` — append operand to split titles\\r\\n: `+\\\\x\\\\` — append x to split titles\\r\\n: `\\\\x\\\\+` — prepend x to split titles\\r\\n: `unique` — prevents duplicate titles in the output\\r\\n: `trim` — no leading/trailing blanks in split titles\\r\\n: `first` — first title of the split => `!first` — all but first\\r\\n: `last` — last title of the split => `!last` — all but last\\r\\n: `at[<num>]` — split in two at number in the operand\\r\\n: `at[<num>,<len>]` — slice out ''len'' characters starting at character ''num''\\r\\n: `!at[<num>,<len>]` — cutting the above out of the input title\\r\\n: `pos=2` — 2nd split item of each input title in turn\\r\\n: `pos=1 num=3` — first three each\\r\\n: `pos=2 num=n` — 2nd to last each\\r\\n: `pos=-2 num=-n` — first to 2nd last each\\r\\n: `strict` — specified `num` is mandatory\\r\\n: `$pos`, `$num`, `$strict`, `$first`, `$!first`,`$last`, `$!last` — for final list\\r\\n: `keep` — return title even if not split\\r\\n: `list[]` — parse list field of input titles\\r\\n: `list=tags[]` — parse tags field of input titles\\r\\n: `list<foo>` — parse (soft) operand as list, e.g. variables or text-references\\n\\n<br>\\n\\n; documentation / examples / demos...\\r\\n: http://tobibeer.github.io/tw5-plugins#split\"\n        },\n        \"$:/plugins/tobibeer/split/utils.js\": {\n            \"text\": \"/*\\\\\\r\\ntitle: $:/plugins/tobibeer/split/utils.js\\r\\ntype: application/javascript\\r\\nmodule-type: utils\\r\\n\\r\\n@preserve\\r\\n\\\\*/\\n(function(){\\\"use strict\\\";exports.getArrayItems=function(e,t,n,s){var i,a=parseInt(n),f=parseInt(t),r=e.length;if(t===\\\"n\\\"){f=r}else if(t===\\\"-n\\\"){f=1}else if(!t){f=1}if(n===\\\"n\\\"){a=r}else if(n===\\\"-n\\\"){a=-(f<0?r+f+1:f)}else if(!n){a=1}f=Math.max(1,f<0?r+f+(a<0?a+2:1):a<0?f+a+1:f);a=Math.max(1,Math.abs(a));i=e.splice(f-1,a);if(i.length<a&&s){i=[]}return i}})();\",\n            \"title\": \"$:/plugins/tobibeer/split/utils.js\",\n            \"type\": \"application/javascript\",\n            \"module-type\": \"utils\"\n        }\n    }\n}"
}