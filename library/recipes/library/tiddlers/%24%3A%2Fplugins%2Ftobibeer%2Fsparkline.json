{
    "title": "$:/plugins/tobibeer/sparkline",
    "description": "a plugin to render inline sparkline diagrams",
    "author": "Tobias Beer",
    "version": "0.5.0",
    "core-version": ">=5.1.9",
    "source": "https://github.com/tobibeer/tw5-sparkline",
    "documentation": "https://tobibeer.github.io/tw5-sparkline",
    "plugin-type": "plugin",
    "requires": "",
    "list": "readme",
    "dependents": "",
    "type": "application/json",
    "text": "{\n    \"tiddlers\": {\n        \"$:/plugins/tobibeer/sparkline/defaults/width\": {\n            \"title\": \"$:/plugins/tobibeer/sparkline/defaults/width\",\n            \"text\": \"3\"\n        },\n        \"$:/plugins/tobibeer/sparkline/defaults/colors/foreground\": {\n            \"title\": \"$:/plugins/tobibeer/sparkline/defaults/colors/foreground\",\n            \"text\": \"<<colour primary>>\"\n        },\n        \"$:/plugins/tobibeer/sparkline/defaults/colors/background\": {\n            \"title\": \"$:/plugins/tobibeer/sparkline/defaults/colors/background\",\n            \"text\": \"transparent\"\n        },\n        \"$:/plugins/tobibeer/sparkline/defaults/colors/hover\": {\n            \"title\": \"$:/plugins/tobibeer/sparkline/defaults/colors/hover\",\n            \"text\": \"<<colour message-foreground>>\"\n        },\n        \"$:/plugins/tobibeer/sparkline/readme\": {\n            \"title\": \"$:/plugins/tobibeer/sparkline/readme\",\n            \"text\": \"The plugin $:/plugins/tobibeer/sparkline provides:\\n\\n; <$sparkline/>\\r\\n: a widget to render sparkline diagrams\\n\\n<br>\\n\\n; documentation / examples / demos...\\r\\n: http://tobibeer.github.io/tw5-plugins#sparkline\"\n        },\n        \"$:/plugins/tobibeer/sparkline/styles\": {\n            \"title\": \"$:/plugins/tobibeer/sparkline/styles\",\n            \"tags\": \"$:/tags/Stylesheet\",\n            \"text\": \".tc-sparkline {\\r\\n\\tborder: 0;\\r\\n\\tbackground: {{$:/plugins/tobibeer/sparkline/defaults/colors/background}};\\r\\n}\\n\\n.tc-sparkline-value {\\r\\n\\toutline: 0;\\r\\n\\tbackground: {{$:/plugins/tobibeer/sparkline/defaults/colors/foreground}};\\r\\n}\\n\\n.tc-sparkline-value:hover {\\r\\n\\tbackground: {{$:/plugins/tobibeer/sparkline/defaults/colors/hover}};\\r\\n}\"\n        },\n        \"$:/plugins/tobibeer/sparkline/widget.js\": {\n            \"text\": \"/*\\\\\\r\\ntitle: $:/plugins/tobibeer/sparkline/widget.js\\r\\ntype: application/javascript\\r\\nmodule-type: widget\\r\\n\\r\\nThe sparkline widget renders inline sparkline diagrams\\r\\n\\r\\n@preserve\\r\\n\\\\*/\\n(function(){\\\"use strict\\\";var t=require(\\\"$:/core/modules/widgets/widget.js\\\").widget,e=function(t,e){this.initialise(t,e)};e.prototype=new t;e.prototype.render=function(t,e){this.parentDomNode=t;this.nextSibling=e;this.computeAttributes();this.execute();if(!this.filter){return}var i,s,r,l,h,n=0,a=0,o,f,u=[],p,d=[],c,g,w;if(!this.filter){return}$tw.utils.each($tw.wiki.filterTiddlers(this.filter,this),function(t){t=parseFloat(t);if(isNaN(t)){t=0}if(a<t){a=t}if(n>t){n=t}d.push(t)});if(this.titles){$tw.utils.each($tw.wiki.filterTiddlers(this.titles,this),function(t){u.push(t)})}w=parseInt(this.width);g=parseInt($tw.wiki.getTiddlerText(\\\"$:/plugins/tobibeer/sparkline/defaults/width\\\"))||0;if(isNaN(w)){w=g}if(w<2&w!=g){w=2}if(!d.length){return}o=this.parseTreeNode.isBlock?\\\"div\\\":\\\"span\\\";if(this.boxTag&&$tw.config.htmlUnsafeElements.indexOf(this.boxTag)===-1){o=this.boxTag}i=this.document.createElement(o);i.innerHTML=String.fromCharCode(160);r=this.classes?this.classes.split(\\\" \\\"):[];r.push(\\\"tc-sparkline\\\");i.className=r.join(\\\" \\\");t.insertBefore(i,e);c=i.offsetWidth;l=i.offsetHeight;i.style.paddingRight=d.length*w-c+\\\"px\\\";i.style.position=\\\"relative\\\";for(p=0;p<d.length;p++){f=u[p];s=document.createElement(\\\"img\\\");s.border=0;s.className=\\\"tc-sparkline-value\\\";s.style.position=\\\"absolute\\\";s.title=f?f+\\\" (\\\"+d[p]+\\\")\\\":d[p];s.src=\\\"data:image/gif,GIF89a%01%00%01%00%91%FF%00%FF%FF%FF%00%00%00%C0%C0%C0%00%00%00!%F9%04%01%00%00%02%00%2C%00%00%00%00%01%00%01%00%40%02%02T%01%00%3B\\\";s.style.left=p*w+\\\"px\\\";s.style.width=w+\\\"px\\\";h=(d[p]-n)/(a-n)*l;h=Math.round(h*100)/100;s.style.top=l-h+\\\"px\\\";s.style.height=h+\\\"px\\\";i.appendChild(s)}};e.prototype.execute=function(){this.filter=this.getAttribute(\\\"filter\\\");this.boxTag=this.getAttribute(\\\"tag\\\");this.classes=this.getAttribute(\\\"class\\\");this.width=this.getAttribute(\\\"width\\\");this.titles=this.getAttribute(\\\"titles\\\")};e.prototype.refresh=function(){var t=this.computeAttributes();if(t.filter||t.tag||t.width||t.titles||t[\\\"class\\\"]){this.refreshSelf();return true}else{return false}};exports.sparkline=e})();\",\n            \"title\": \"$:/plugins/tobibeer/sparkline/widget.js\",\n            \"type\": \"application/javascript\",\n            \"module-type\": \"widget\"\n        }\n    }\n}"
}